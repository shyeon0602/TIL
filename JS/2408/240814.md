# Javascript

### ğŸ”¹ async/await

```js
async function makeRequests() {
  try {
    const response1 = await fetch(
      "https://jsonpalceholder.typicode.com/todos/1"
    );
    const jsonResponse1 = await response1.json();
    console.log("jsonResponse1", jsonResponse1);

    const response2 = await fetch(
      "https://jsonplaceholder.typicode.com/todos/2"
    );
    const jsonResponse2 = await response2.json();
    console.log("jsonResponse2", jsonResponse2);
  } catch (err) {
    console.log(err);
  } finally {
    console.log("ì‘ì—… ì™„ë£Œ");
  }
}

makeRequests();
```

ì´ëŠ” ë¹„ë™ê¸° ì½”ë“œë¥¼ ë§ˆì¹˜ ë™ê¸° ì½”ë“œì²˜ëŸ¼ ë³´ì´ê²Œ í•œë‹¤.

`await`ì€ async ë‚´ë¶€ í•¨ìˆ˜ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---

### ğŸ”¹ symbol

ê°’ì„ í• ë‹¹í•  ë•Œ ì˜¤ë²„ë¼ì´ë”© ë˜ì§€ ì•Šê³  ìœ ë‹ˆí¬í•œ ê°’ì„ ì£¼ê¸° ìœ„í•´ì„œ ì‹¬ë³¼ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.

```js
let carA = {
  id: 1,
  name: "morning",
  brand: "kia",
  price: 1000,
};

const idSym = Symbol("id");
carA[idSym] = 300;
```

symbolì€ for...inê³¼ getOwnPropertyNamesì—ì„œ ì œì™¸ëœë‹¤.

ì‹¬ë³¼ì„ ì´ìš©í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ propertyê°€ ìˆ¨ê²¨ì§€ê²Œ ëœë‹¤. ê·¸ë˜ì„œ for...inê³¼ getOwnPropertyNamesë¥¼ ì´ìš©í•  ë•Œ symbolë¡œ ë§Œë“  í”„ë¡œí¼í‹°ëŠ” ì•ˆë³´ì¸ë‹¤.

ğŸ” getOwnPropertyNamesëŠ” ì „ë‹¬ëœ ê°ì²´ì˜ ëª¨ë“  ì†ì„±ë“¤ì„ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤.

```js
const length = Symbol('length');
class Car {
  constructor() {
    this[length] = 0;
  }

  add(brand, name) {
    this[brand] = name;
    this[length]++;
  }

  let myCars = new Car();
  myCars.add('kia', 'morning');
  myCars.add('hyundai', 'tucson');
  myCars.add('genesis', 'gv80');

  for(let car in myCars) {
    console.log(car, myCars[car]);  // symbolì„ ì‚¬ìš©í•˜ë©´ì„œ lengthëŠ” ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤
  }
}
```

---

### ğŸ”¹ generator í•¨ìˆ˜

generator functionì€ ì‚¬ìš©ìì˜ ìš”êµ¬ì— ë”°ë¼ ë‹¤ë¥¸ ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ì—¬ëŸ¬ ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.

ì¼ë°˜ í•¨ìˆ˜ëŠ” í•œë²ˆì˜ ì‹¤í–‰ìœ¼ë¡œ í•¨ìˆ˜ ëê¹Œì§€ ì‹¤í–‰ëœë‹¤. ê·¸ëŸ¬ë‚˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ì‚¬ìš©ìì˜ ìš”êµ¬ì— ë”°ë¼ ì¼ì‹œì ìœ¼ë¡œ ì •ì§€ë  ìˆ˜ë„ ìˆê³ , ë‹¤ì‹œ ì‹œì‘ë  ìˆ˜ë„ ìˆë‹¤.

```js
// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” *ê°€ í¬í•¨
function* sayNumbers() {
  yield 1;
  yield 2;
  yield 3;

  // yield* [1, 2, 3];
  // ìœ„ì— ì‘ì„±ê³¼ ë™ì¼í•œ ê²°ê³¼, for...ofë¡œ ìˆœíšŒ
}

// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë°˜í™˜ì´ ì œë„ˆë ˆì´í„°ê°€ ë¨
const number = sayNumbers();

console.log(number.next().value);
```

`yield`ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¼ì‹œì ìœ¼ë¡œ ì •ì§€ì‹œí‚¨ë‹¤. ì¦‰ ì¼ë°˜í•¨ìˆ˜ì˜ returnê³¼ ìœ ì‚¬í•˜ë‹¤.

`lazy evaluation`ì€ ê³„ì‚°ì˜ ê²°ê³¼ê°’ì´ í•„ìš”í•  ë•Œê¹Œì§€ ê³„ì‚°ì„ ëŠ¦ì¶°ì„œ í•„ìš”í•œ ë°ì´í„°ë¥¼ í•„ìš”í•œ ìˆœê°„ì— ìƒì„±í•œë‹¤.

```js
function* createIDs() {
  let index = 1;

  while (true) {
    yield index++;
  }
}

const generator = createIDs();

console.log(generator.next().value); // 1
console.log(generator.next().value); // 2

console.log(generator.return(10)); // ê°•ì œë¡œ returnì„ í†µí•´ ê°’ì„ ì‚½ì…í•  ìˆ˜ ìˆìŒ
```

---

### ğŸ”¹ ë””ìì¸ íŒ¨í„´

- singleton íŒ¨í„´

  ì‹±ê¸€í†¤ íŒ¨í„´ì€ **í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ì œí•œ**í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì´ë‹¤.

  ì´ëŠ” ì‹œìŠ¤í…œ ì „ì²´ì—ì„œ ì‘ì—…ì„ ì¡°ì •í•˜ëŠ” ë°ì— í•˜ë‚˜ì˜ ê°ì²´ê°€ í•„ìš”í•œ ê²½ìš°ì— ì‚¬ìš©í•œë‹¤.

  í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°, í´ë˜ìŠ¤ì˜ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œë¡œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì´ë¯¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¡´ì¬í•  ë•ŒëŠ” í•´ë‹¹ ê°œì²´ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë°˜í™˜í•œë‹¤.

  ```js
  let instance;

  // 1. ìƒì„±ìì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ìƒì„±ë  ìˆ˜ ìˆê²Œ ë¡œì§ ì‘ì„±
  class Counter {
    constructor() {
      if (instance) {
        throw new Error("í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ìƒì„±í•  ìˆ˜ ìˆìŒ");
      }
      this.counter = 0;
      instance = this;
    }

    getCount() {
      return this.counter;
    }

    increment() {
      return this.counter++;
    }

    decrement() {
      return this.counter--;
    }
  }

  // 2. ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±, ë‘ë²ˆì§¸ ìƒì„±í•œ ê°ì²´ëŠ” ì—ëŸ¬ ë°œìƒ
  const singletonCounterA = new Counter();

  // ë‘ë²ˆì§¸ ê°ì²´ë¥¼ ìƒì„±í•˜ë ¤ê³  í•  ë•Œ ì—ëŸ¬ ë°œìƒ
  // const CounterB = new Counter();

  singletonCounterA.increment();
  singletonCounterA.increment();

  console.log(singletonCounter.getCount());
  ```

- factory design íŒ¨í„´

  íŒ©í† ë¦¬ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ íŠ¹ìˆ˜ í•¨ìˆ˜ì¸ íŒ©í† ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ìŠ·í•œ ê°ì²´ë¥¼ ë§ì´ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì¦‰ ë¹„ìŠ·í•œ ê°ì²´ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ìƒì„±í•´ì•¼í•˜ëŠ” ê²½ìš° ì‚¬ìš©í•œë‹¤.

  ```js
  const createBook = (title, author, isbn) => ({
    title,
    author,
    isbn,
  });

  const book1 = createBook("harry potter", "jk rowling", "ab123");

  const book2 = createBook("the great gatsby", "f. scott fitzgerald", "cd456");

  const book3 = createBook("moby-dick", "herman melville", "ef789");
  ```

- mediator íŒ¨í„´

  ì¤‘ì¬ì íŒ¨í„´ì€ ê°ì²´ ê·¸ë£¹ì— ëŒ€í•œ ì¤‘ì•™ ê¶Œí•œì„ ì œê³µí•œë‹¤.

  ```js
  class Participant {
    costurctor(name) {
      this.name = name;
      this.chatRoom = null;
      this.messages = [];
    }

    send(messagge, to) {
      this.chatRoom.send(message, this, to);
    }

    receive(message, from) {
      this.messages.push({ message, from });
    }

    showMessage() {
      console.log(this.messages);
    }
  }

  class ChatRoom {
    constructor() {
      this.participants = {};
    }

    enter(participant) {
      this.participants[participant.name] = participant;
      participant.chatRoom = this;
    }

    send(message, participant, to) {
      this.participants[to.name].receive(message, participant);
    }
  }

  const chatRoom = new ChatRoom();

  const user1 = new Participant("user1");
  const user2 = new Participant("user2");
  const user3 = new Participant("user3");

  chatRoom.enter("user1");
  chatRoom.enter("user2");
  chatRoom.enter("user3");

  user1.send("hi", user2);
  ```

- observer íŒ¨í„´

  ì˜µì €ë²„ íŒ¨í„´ì€ event-driven ì‹œìŠ¤í…œì„ ì´ìš©í•˜ëŠ” íŒ¨í„´ì´ë‹¤.

  íŠ¹ì • subjectë¥¼ ê´€ì°°í•˜ëŠ” ë§ì€ observerê°€ ìˆë‹¤. ê´€ì°°ìëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ê´€ì‹¬ìˆëŠ” ì£¼ì œ ë‚´ë¶€ì— ë³€ê²½ì‚¬í•­ì´ ìˆì„ ë•Œ ì•Œë¦¼ì„ ë°›ê¸¸ ì›í•œë‹¤. ë”°ë¼ì„œ ê·¸ ì£¼ì œì— ìŠ¤ìŠ¤ë¡œë¥¼ ë“±ë¡í•œë‹¤. ì£¼ì œì— ê´€ì‹¬ì„ ìƒìœ¼ë©´ ë“±ë¡ì„ ì·¨ì†Œí•œë‹¤.

- module íŒ¨í„´

  ì½”ë“œë¥¼ ë” ì‘ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì¡°ê°ìœ¼ë¡œ ë¶„í• í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

  ğŸ” ëª¨ë“ˆ(`<script type = "module">`)ì˜ íŠ¹ì§•

  - ì—„ê²© ëª¨ë“œë¡œ ì‹¤í–‰ëœë‹¤.
  - ì§€ì—° ì‹¤í–‰ëœë‹¤.
  - ì¸ë¼ì¸ ëª¨ë“ˆ ìŠ¤í¬ë¦½íŠ¸ë„ ë¹„ë™ê¸° ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
  - ì™¸ë¶€ originì—ì„œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ë ¤ë©´ cors í—¤ë”ê°€ ìˆì–´ì•¼ í•œë‹¤.
  - ì¤‘ë³µëœ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¬´ì‹œëœë‹¤.
