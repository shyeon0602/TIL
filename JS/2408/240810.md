# Javascript

### 🔹 this 키워드

- 메소드에서 this 사용

  메소드는 객체 안에 위치한 함수를 말한다.

  메소드에서 `this` 키워드를 사용하면 해당 객체를 가리킨다.

  ```js
  // method -> object
  const audio = {
    title: "a",
    play() {
      console.log("play this", this);
    },
  };

  audio.play();

  audio.stop = () => {
    console.log("stop this", this);
  };
  ```

- 함수에서의 this 사용

  함수 내에서 `this`를 사용하면 윈도우 객체를 호출한다.

  ```js
  // function -> window object
  function playAudio() {
    console.log(this);
  }

  playAudio(); // 함수를 호출하면 함수 내에서 this는 윈도우 객체를 호출
  ```

- constructor 함수

  ```js
  function Audio(title) {
    this.title = title; // 객체 title 생성
    console.log(this);
  }

  const audio = new Audio("a"); // 생성자 호출
  ```

각 블록마다 `this` 키워드가 적용되는 범위가 다르다.

```js
const audio = {
  title: "audio",
  categories: ["rock", "pop", "hiphop", "jazz"],
  displayCategories() {
    this.categories.forEach(
      function (category) {
        console.log(`title: ${this.title}, category: ${category}`); // 이렇게만 작성하면 this.title은 객체의 title을 참조하지 않고 window 객체를 참조함
      },
      { title: "audio" } // 따라서 함수 내에서 객체 title을 명시해줘서 콜백함수에서 this로 참조할 수 있게 함, 또는 이 부분에서 this로 작성하면 객체를 참조하기 때문에 동일한 결과가 나옴
    );
  },
};
```

- 화살표함수 this 키워드

  화살표 함수에서 사용된 `this` 키워드는 항상 상위스코프 this를 가리키게 된다.

  ```js
  const audio = {
    title: "audio",
    categories: ["rock", "pop", "hiphop", "jazz"],
    displayCategories() {
      this.categories.forEach((category) => {
        console.log(this); // 객체 title을 가리킴
      });
    },
  };
  ```

---
