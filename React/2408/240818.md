# React

리액트는 인터렉션이 많은 웹 앱을 개발하기 위해 주로 사용된다.

🔎 react vs vue.js vs angular<br>
이들은 프레임워크와 라이브러리 차이가 있다. vue.js와 angular는 프레임워크이고, react는 라이브러리이다.

프레임워크는 앱을 만들기 위해 필요한 것 대부분을 가지고 있는 것이다. 반면 라이브러리는 프레임워크에 포함되며, 특정 기능을 모듈화 해놓은 것이다.

리액트는 ui를 렌더링 하는 데 관여하는 라이브러리이다.

화면 전환을 위한 라우팅, 상태관리와 빌드를 위한 테스팅은 다른 라이브러리들을 사용한다.

| 목적                | 관련 라이브러리  |
| ------------------- | ---------------- |
| 라우팅(페이지 이동) | react-router-dom |
| 상태관리            | redux            |
|                     | mobx             |
|                     | recoil           |
| 테스트              | jest             |
|                     | mocha            |

### 🔹 Component(컴포넌트)

컴포넌트는 리액트로 만들어진 앱을 이루는 최소한의 단위이다.

리액트는 여러 컴포넌트 조각으로 구성되어 있다. 하나의 페이지는 여러 컴포넌트가 모여서 하나의 페이지를 이루게 된다.

- 클래스형 컴포넌트

- 함수형 컴포넌트

  리액트 hooks가 생긴 후부터 함수형 컴포넌트를 이용해서 개발을 많이 한다.

---

### 🔹 가상 돔

html 문서가 브라우저에 그려지는 CRP 과정 중에 어떤 인터렉션에 의해 dom에 변화가 생기면 그때마다 render tree가 재생성된다. 이는 crp 과정을 다시 거치게 되고 성능이 떨어지는 원인이 된다.

이를 해결하기 위해 가상돔(virtual dom)이 등장했다. 가상 돔이란 실제 dom을 메모리에 복사해준 것이다.

데이터가 바뀌면 가상돔에 렌더링되고 이전에 생긴 가상돔과 비교해서 바뀐 부분만 실제 돔에 적용시킨다. 바뀐 부분을 찾는 과정을 diffing이라고 하고, 바뀐 부분만 실제 돔에 적용시켜주는 것을 재조정(reconciliation)이라고 한다.

---

### 🔹 리액트 설치

- node.js 설치

  리액트 프로젝트를 만들기 위해서 node.js와 npm이 필요하다. node.js 안에 npm이 설치되어 있기 때문에 node.js만 설치하면 된다.

💡 node.js란 크롬 v8 자바스크립트 엔진으로 빌드한 자바스크립트 런타임으로, 웹 브라우저 환경이 아닌 곳에서도 자바스크립트를 사용하여 연산할 수 있다.

- 터미널에서 `npx create-react-app <파일명 또는 파일경로>` 입력

---

- 이름이 수정되면 안되는 파일들

  1. public/index.html -> 페이지 템플릿
  2. src/index.js -> 자바스크립트 시작점

원하는 소스코드는 src 폴더에 넣어주면 된다.

---

### 🔹 SPA(Single Page Applicaiton)

웹사이트의 전체 페이지를 하나의 페이지에 담아 동적으로 화면을 바꿔서 표현한다.

html5의 history api를 사용해서 가능하게 한다. 자바스크립트 영역에서 history api를 이용해서 현재 페이지 내에서 화면 이동이 일어난 것처럼 작동하게 해준다.

---

- 원래 리액트에서 화면을 그리는 방식

  ```js
  const myelement = React.createElement("h1", {}, "i do not use jsx");

  ReactDOM.render(myelement, document.querySelector("root"));
  ```

- jsx는 babel을 이용해서 자동으로 위의 형식으로 변환해준다

- jsx 사용규칙

  - 컴포넌트에 여러 엘리먼트 요소가 있다면 반드시 부모 요소 하나로 감싸줘야 한다.
