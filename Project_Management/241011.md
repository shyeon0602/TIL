## 🔹 백엔드 개발 플로우

### 젠킨스 파이프라인 구축

- CI(지속적 통합)

  지속적 통합은 개발자들이 빠른 주기로 작업한 내용을 통합 브랜치에 통합하고 빌드하는 프로세스를 말한다. 즉 빌드, 테스트의 자동화 과정이다.<br>
  CI는 통합하는 과정에서 발생하는 이슈를 빠르게 발견하기 위해서 필요하다. 기능 개발 중에는 변경된 코드를 반영하고 버전 관리 시스템에서 변경사항을 가져오고, 빌드와 테스트를 진행하고 통합 후 통합된 코드를 빌드하고 묶어서 배포하는 과정을 수행한다.<br>
  CI 환경에서는 젠킨스 같은 도구를 이용해서 배포를 자동화시킬 수 있다.

  젠킨스는 스크립트 문장을 사용하여 선언형 파이프라인을 생성하는 방법을 제공한다. 각 파이프라인에는 고유한 목적이 있다. CI를 관리하거나 소작업을 관리하거나 배포를 진행한다. 파이프라인은 연속된 기술적인 작업의 흐름이고 각 작업은 연속해서 수행되는 소작업의 모음이라고 할 수 있다.

  선언형 파이프라인은 고정된 구문을 사용하여 파이프라인을 구성한다. 반면에 스크립트형 파이프라인은 자유도가 더 높지만 복잡할 수 있다.<br>
  선언형 파이프라인은 `pipeline` 블록을 사용해 전체 파이프라인을 명확하게 구분하고 단계별로 정의한다. 파이프라인은 `stages`, `steps`, `agent`와 같은 예약어를 사용하여 구성된다. 이러한 구조 덕분에 읽기 쉽고 유지보수가 용이해진다.

- CD(지속적 전달 및 배포)

  지속적 전달은 지속적 통합 이후에 더 나아가 통합된 코드를 자동으로 테스트하고 테스트를 통과한 코드를 프로덕션 환경에 안전하게 전달할 수 있는 프로세스를 의미한다. 즉 배포 자동화 과정이다.

  일반적으로 프로젝트를 진행하면 크게 3개의 브랜치 전략을 사용한다.

  - 마스터 브랜치(main): 배포 가능한 상태만 관리하는 브랜치
  - 통합 브랜치(develop): 다음 배포할 것을 개발하는 브랜치로, 통합 이슈를 발견하기 위해서 여기서 모든 기능이 통합, 테스트, 빌드된다. 이 브랜치에서도 개발이 진행되지 않고 이 브랜치에서 기능 브랜치를 따서 작업한다.
  - 기능 브랜치(feature): 기능 개발을 진행하는 브랜치

- 파이프라인 스크립트 작성

  파이프라인을 통해 스크립트 파일(JenkinsFile)을 작성해서 CI/CD를 위한 연속적인 이벤트를 실행시킬 수 있다.

  - CI

    스크립트는 젠킨스 웹 내에서 작성하여 관리하는 `default`와 프로젝트 내에서 Jenkinsfile에 스크립트를 작성하여 관리하는 `scm` 방법이 있다.

    스크립트를 작성하고 레포지토리의 url을 설정한 저장소의 최신 코드를 젠킨스 워크스페이스로 복제한다.

  ```
  🔎 Agent: 사용자를 대표하거나 대신하여 사용자가 해야할 작업을 자동으로 수행하는 소프트웨어

      SCM: 소프트웨어 형상관리, 소프트웨어 개발 과정에서 소프트웨어의 변경사항을 관리하고 소프트웨어 형상을 체계적으로 관리하고 유지하는 기법, git이나 svn과 같은 소스관리 도구
  ```

  - CD

    main 브랜치로 푸시되는 코드들이 운영 환경에 배포되는 과정을 자동화한다.

    CD를 위한 파이프라인 생성은 CI와 동일하게 진행하되 Deploy 단계를 추가한다. 빌드된 jar 파일을 전송하면 운영 서버에서 `deploy.sh` 스크립트를 실행한다. 마지막으로 원격 서버에 접속해서 실행된 쉘 스크립트 파일을 작성하면 된다.
